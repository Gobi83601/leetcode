class Solution:
    def isSameTree(self, p: Optional[TreeNode], q: Optional[TreeNode]) -> bool:
        if p is None and q is None:
            return True
        if p is None or q is None:
            return False
        if p.val != q.val:
            return False
        return self.isSameTree(p.left, q.left) and self.isSameTree(p.right, q.right)

'''
1. if both are empty return true.
2.if anyone is empty return false.
3.check for the values.if they are not equal return false.
4.check both right and left elements are same recursively.
